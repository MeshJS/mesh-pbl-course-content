---
{
  "title": "",
  "slt": ["102.1"],
  "type": "Lesson",
  "description": "",
  "videoURL": "",
  "lastEdited": "",
  "author": "",
}
---

# Mesh React - TPS 102.1

Target Pembelajaran Siswa: Saya dapat melakukan konfigurasi Mesh Provider sehingga saya dapat menggunakan Komponen React Mesh dan Hooks.

## Mempelajari Lebih Dalam Tentang Mesh Provider

Di modul 100.4 Anda sudah belajar cara mengintegrasikan Mesh ke dalam proyek baru. Sebenarnya tanpa Anda sadari atau tidak Anda sudah menerapkan Mesh Provider di file pages/\_app.tsx. Mesh Provider adalah komponen yang menggunakan fitur konteks React. Konteks memungkinkan Anda untuk berbagi data atau status di seluruh aplikasi tanpa perlu melewatkan prop dari komponen ke komponen. Dengan Mesh Provider, Anda dapat menyediakan konteks yang berisi konfigurasi, status, atau data yang dibutuhkan oleh aplikasi web yang Anda bangun. Salah satu contoh yang paling kongkrit adalah ketika user menghubungkan dompetnya di halaman utama kemudian user mengunjungi halaman lain, Mesh Provider berperan untuk memastikan dompetnya masih terhubung.

Berikut adalah contoh kode penerapan Mesh Provider di file pages/\_app.tsx

```typescript
import "../styles/globals.css";
import type { AppProps } from "next/app";
import { MeshProvider } from "@meshsdk/react";

function MyApp({ Component, pageProps }: AppProps) {
  return (
    <MeshProvider>
      <Component {...pageProps} />
    </MeshProvider>
  );
}

export default MyApp;
```

## Meletakan Komponen CardanoWallet Di Navbar

Pada bagian ini, Anda akan mempelajari cara membuat Navbar yang terdapat komponen CardanoWallet. Ketika berpindah-pindah halaman, Navbar yang Anda buat akan tetap pada posisinya dan yang terpenting Anda akan melihat bukti dari penerapan MeshProvider yang berperan untuk memastikan dompetnya masih terhubung. Jadi ketika berpindah-pindah halaman Anda akan melihat bahwa status koneksi (connected / disconnected) dompet anda tidak akan berubah-ubah.

### Langkah-1: Instalasi Next.JS Yang Terintegrasi Mesh.JS Menggunakan Starter Templates

```bash
npx create-mesh-app navbar-cardanowallet -t starter -s next -l ts
```

Pada percobaan kali ini kita akan menamakan proyeknya navbar-cardanowallet

### Langkah-2: Instalasi TailwindCSS

```bash
cd navbar-cardanowallet
npm install -D tailwindcss postcss autoprefixer
npx tailwindcss init -p
```

Setelah proses instalasi selesai Anda akan melihat file tailwind.config.js dan postcss.config.js. Buka file tailwind.config.js kemudian hapus semua kode yang ada di file tersebut lalu ganti dengan code berikut:

```javascript
/** @type {import('tailwindcss').Config} */
module.exports = {
  content: [
    "./app/**/*.{js,ts,jsx,tsx,mdx}",
    "./pages/**/*.{js,ts,jsx,tsx,mdx}",
    "./components/**/*.{js,ts,jsx,tsx,mdx}",

    // Or if using `src` directory:
    "./src/**/*.{js,ts,jsx,tsx,mdx}",
  ],
  theme: {
    extend: {},
  },
  plugins: [],
};
```

Setelah itu buka file styles/globals.css kemudian hapus semua kode yang ada di file tersebut lalu ganti dengan code berikut:

```css
@tailwind base;
@tailwind components;
@tailwind utilities;
```

### Langkah-3: Membuat Komponen Navbar dan Layout

Buat folder bernama components di dalam direktori pages

```bash
mkdir pages/components
```

Buat file bernama Navbar.tsx di dalam folder components

```bash
touch pages/components/Navbar.tsx
```

Buka file pages/components/Navbar.tsx kemudian copy-paste kode berikut:

```typescript
import Link from "next/link";
import { CardanoWallet } from "@meshsdk/react";

export default function Navbar() {
  return (
    <div className="flex bg-black text-white p-5 justify-between">
      <div className="flex">
        <Link href="/" className="mr-5 hover:font-bold text-xl">
          Home
        </Link>
        <Link href="/users" className="hover:font-bold text-xl">
          Users
        </Link>
      </div>
      <CardanoWallet />
    </div>
  );
}
```

Buat file bernama Layout.tsx di dalam folder components

```bash
touch pages/components/Layout.tsx
```

Buka file pages/components/Layout.tsx kemudian copy-paste kode berikut:

```typescript
import Navbar from "./Navbar";

export default function Layout({ children }: any) {
  return (
    <>
      <Navbar />
      <main>{children}</main>
    </>
  );
}
```

### Langkah-4: Tambahkan komponen Layout dan MeshProvider

Buka file pages/\_app.tsx kemudian hapus semua kode yang ada di file tersebut lalu ganti dengan code berikut:

```typescript
import "../styles/globals.css";
import type { AppProps } from "next/app";
import { MeshProvider } from "@meshsdk/react";
import Layout from "./components/Layout";

export default function App({ Component, pageProps }: AppProps) {
  return (
    <MeshProvider>
      <Layout>
        <Component {...pageProps} />
      </Layout>
    </MeshProvider>
  );
}
```

Langkah-4 adalah langkah yang cukup krusial karena Anda sedang menerapkan MeshProvider dan komponen Layout yang telah Anda buat dimana Mesh Provider maupun Layout adalah komponen yang menggunakan fitur konteks React.

### Langkah-5: Membuat Halaman Utama Dan Halaman Users

Buka file pages/index.tsx kemudian hapus semua kode yang ada di file tersebut lalu ganti dengan code berikut:

```typescript
import { useWallet } from "@meshsdk/react";

export default function Home() {
  const { connected } = useWallet();

  return (
    <div className="p-3">
      <h1 className="text-2xl font-bold">Home Page</h1>
      {!connected ? (
        <p>
          The wallet has been{" "}
          <span className="text-red-500 font-bold">disconnected</span> at
          home-page
        </p>
      ) : (
        <p>
          The wallet has been{" "}
          <span className="text-green-500 font-bold">connected</span> at
          home-page
        </p>
      )}
    </div>
  );
}
```

Buat folder bernama users di dalam direktori pages

```bash
mkdir pages/users
```

Buat file bernama index.tsx di dalam folder users

```bash
touch pages/users/index.tsx
```

Buka file pages/users/index.tsx kemudian copy-paste kode berikut:

```typescript
import { useWallet } from "@meshsdk/react";

export default function UserPage() {
  const { connected } = useWallet();

  return (
    <div className="p-3">
      <h1 className="text-2xl font-bold">User Page</h1>
      {!connected ? (
        <p>
          The wallet has been{" "}
          <span className="text-red-500 font-bold">disconnected</span> at
          user-page
        </p>
      ) : (
        <p>
          The wallet has been{" "}
          <span className="text-green-500 font-bold">connected</span> at
          user-page
        </p>
      )}
    </div>
  );
}
```

Anda melihat bahwa kode untuk halaman utama maupun halaman users terlihat pola dan logic yang sama, terlihat pada kode tsx terdapat pola conditional rendering menggunakan operator ternary dengan kondisi jika connected bernilai false maka pada halaman akan menampilkan tulisan-tulisan yang terdapat kata "disconnected" berwarna merah begitu juga sebaliknya jika bernilai true maka halaman akan menampilkan tulisan-tulisan yang terdapat kata "connected" berwarna hijau. Pada kode tersebut terdapat useWallet yang merupakan Wallet Hooks. useWallet mempunyai berbagai parameter dan method salah satunya yang digunakan kali ini adalah connected yang mengembalikan nilai true yang artinya dompet terhubung. Pada Modul-modul selanjutnya yaitu 102.2-102.6 Anda akan mempelajari komponen-komponen Wallet Hooks lebih jauh lagi.

### Langkah-6: Jalankan aplikasi di server development

```bash
npm run dev
```

Setelah itu buka browser arahkan url ke http://localhost:3000. Anda akan melihat halaman utama atau Home-Page yang terdapat Navbar kemudian di pojok kanan pada Navbar terdapat CardanoWallet. Hubungkan dompet Anda kemudian Anda akan melihat tulisan "The wallet has been disconnected at home-page" berubah menjadi "The wallet has been connected at home-page" lalu cobalah untuk berpindah halaman ke User-Page dengan cara klik Users pada Navbar atau arahkan url ke http://localhost:3000/users maka Anda akan melihat kata "connected" yang berwarna hijau tidak berubah yang artinya dompet tetap terhubung walaupun berpindah halaman. Anda juga bisa melihat bahwa komponen CardanoWallet di pojok kanan pada Navbar tidak berubah dan tetap menunjukan nominal saldo. Contoh kode pada modul ini dapat Anda modifikasi sesuai ide proyek Anda. Lakukan modifikasi dan buatlah sesuatu yang berbeda namun tetap menerapkan prinsip yang sama seperti contoh kode diatas untuk melatih kemampuan Anda sebagai developer.
